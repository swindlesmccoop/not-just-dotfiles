#!/bin/sh
#Prints battery percentage and corresponding emoji

case $BLOCK_BUTTON in
	3) notify-send "üîã Battery module" "üîã: discharging
üõë: not charging
‚ôª: stagnant charge
üîå: charging
‚ö°: charged
‚ÄºÔ∏è: battery very low!" ;;
esac

{
	STATUS="$(upower -i $(upower -e | grep 'BAT') | grep "    state:")"
	echo "$STATUS" | grep "charging" && ICON="üîå"
	#echo "$STATUS" | grep "full" && ICON="üíØ"
	echo "$STATUS" | grep "full" && ICON="‚ö°"
	echo "$STATUS" | grep "discharging" && ICON="üîã"
	echo "$STATUS" | grep "pending-charge" && ICON="üõë"
	echo "$STATUS" | grep "unknown" && ICON="‚ôªÔ∏è"
	PERCENT="$(upower -i $(upower -e | grep 'BAT') | grep '    percentage:.*' | sed 's/    percentage:          //' | sed 's/\%//')"
} > /dev/null

[ "$PERCENT" = "" ] && exit
[ "$PERCENT" -lt "10" ] && ICON="‚ÄºÔ∏è$ICON"
printf "$ICON$PERCENT%%\n"
