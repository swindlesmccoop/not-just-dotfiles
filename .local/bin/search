#!/bin/sh
#Search for files in any given directory and send them to filehandler

curdir () {
	filehandler "$(find "$PWD/" | find 2> /dev/null | sed 's/^.*\.git.*//g' | sed 's/^.*\.cache.*//g' | sed '/./!d' | fzfse)"
}

argdir () {
	filehandler "$(find "$1/" | find 2> /dev/null | sed 's/^.*\.git.*//g' | sed 's/^.*\.cache.*//g' | sed '/./!d' | fzfse)"
}

[ "$1" = "" ] && curdir || argdir "$@"
