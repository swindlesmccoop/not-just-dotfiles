#!/bin/sh

_openbsd() {
	sndioctl -n output.level | sed 's/0\.//' | sed 's/.$/%/' | sed 's/\.//\n'
	#kill -s SIGUSR1 $(pgrep dwmblocks)
}

_linux() {
	printf "$(pamixer --get-volume)%%\n"
	#kill -s SIGUSR1 $(pgrep dwmblocks)
}

OS=$(uname)
case $OS in
	Linux) _linux ;;
	OpenBSD) _openbsd ;;
esac
